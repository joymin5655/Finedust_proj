<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta name="description" content="Explore real-time PM2.5 levels on an interactive 3D globe. 174+ cities with official EU Copernicus CAMS data. Visualize country policy impacts on air quality.">
    <meta name="keywords" content="3D globe, air quality map, PM2.5 visualization, global pollution, Three.js, environmental data">
    <meta name="author" content="AirLens Team">
    <meta name="theme-color" content="#25e2f4">
    <title>Interactive Globe - Real-Time PM2.5 Visualization | AirLens</title>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://joymin5655.github.io/Finedust_proj/app/globe.html">

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://joymin5655.github.io/Finedust_proj/app/globe.html">
    <meta property="og:title" content="Interactive 3D Globe - PM2.5 Visualization | AirLens">
    <meta property="og:description" content="Explore air quality worldwide on an interactive 3D globe. Real-time PM2.5 data from 174+ cities with country policy impacts.">
    <!-- <meta property="og:image" content="https://joymin5655.github.io/Finedust_proj/assets/images/globe-og.png"> -->

    <!-- Resource Hints -->
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    <link rel="dns-prefetch" href="https://api.open-meteo.com">
    <link rel="dns-prefetch" href="https://aqicn.org">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>

    <!-- Three.js -->
    <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
        "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
      }
    }
    </script>

    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- Main Styles -->
    <link rel="stylesheet" href="css/main.css"/>
    <link rel="stylesheet" href="css/settings.css"/>
    <link rel="stylesheet" href="css/policy-panel-enhanced.css"/>

    <!-- Enhanced Policy System Styles -->
    <style>
        /* Ï†ïÏ±Ö Ìà¥ÌåÅ Ïä§ÌÉÄÏùº */
        .policy-tooltip-content {
            min-width: 200px;
        }
        
        .tooltip-title {
            font-weight: 600;
            color: #25e2f4;
            margin-bottom: 8px;
        }
        
        .tooltip-country,
        .tooltip-date {
            font-size: 12px;
            color: #8c9fa2;
            margin-bottom: 4px;
        }
        
        .tooltip-improvement {
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(37, 226, 244, 0.2);
            font-size: 14px;
        }
        
        .tooltip-improvement .positive {
            color: #51cf66;
            font-weight: 600;
        }
        
        .tooltip-improvement .negative {
            color: #ff6b6b;
            font-weight: 600;
        }
        
        .tooltip-hint {
            font-size: 11px;
            color: rgba(37, 226, 244, 0.7);
            margin-top: 8px;
            text-align: center;
        }
        
        /* Î°úÎî© Ïù∏ÎîîÏºÄÏù¥ÌÑ∞ Í∞úÏÑ† */
        #loading-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10000;
            text-align: center;
            /* üéØ Í∏ÄÎ°úÎ∏å Î∞∞Í≤ΩÍ≥º ÎèôÏùºÌïú ÏÉâÏÉÅ */
            background: linear-gradient(180deg, #000005 0%, #0a0e1a 100%) !important;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        #loading-progress {
            transition: width 0.2s ease !important;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(37, 226, 244, 0.3);
            border-top-color: #25e2f4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .loading-text {
            margin-top: 15px;
            color: #25e2f4;
            font-size: 14px;
        }
    </style>

    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#25e2f4",
                        "background-light": "#f5f8f8",
                        "background-dark": "#102122",
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>

    <style>
        body {
            margin: 0;
            overflow: hidden;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
            font-size: 24px;
        }

        #globe-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #000005 0%, #0a0e1a 100%);
        }

        #globe-canvas {
            display: block;
            width: 100%;
            height: 100%;
        }

        .toggle-switch {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            width: 51px;
            height: 31px;
            cursor: pointer;
            border-radius: 9999px;
            border: none;
            background-color: rgba(0, 0, 0, 0.3);
            padding: 2px;
            transition: background-color 0.3s, justify-content 0.3s;
        }

        .toggle-switch.checked {
            background-color: #25e2f4;
            justify-content: flex-end;
        }

        .toggle-knob {
            width: 27px;
            height: 27px;
            border-radius: 50%;
            background-color: white;
            box-shadow: rgba(0, 0, 0, 0.15) 0px 3px 8px, rgba(0, 0, 0, 0.06) 0px 3px 1px;
        }

        .toggle-switch input {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }

        .policy-card {
            animation: slideInUp 0.3s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateX(-50%) translateY(12px); }
            to   { opacity: 1; transform: translateX(-50%) translateY(0); }
        }

        .news-item {
            transition: all 0.2s;
        }

        .news-item:hover {
            transform: translateX(4px);
            background-color: rgba(255, 255, 255, 0.05);
        }

        /* Custom Scrollbar for Policy Card */
        #policy-card::-webkit-scrollbar {
            width: 6px;
        }

        #policy-card::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        #policy-card::-webkit-scrollbar-thumb {
            background: rgba(37, 226, 244, 0.3);
            border-radius: 10px;
        }

        #policy-card::-webkit-scrollbar-thumb:hover {
            background: rgba(37, 226, 244, 0.5);
        }

        /* Firefox scrollbar */
        #policy-card {
            scrollbar-width: thin;
            scrollbar-color: rgba(37, 226, 244, 0.5) rgba(0, 0, 0, 0.2);
        }

        /* Ensure content stays within card boundaries */
        #policy-card * {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        #policy-card canvas {
            max-width: 100%;
            height: auto !important;
        }

        /* Control panel scrollbar */
        .control-panel::-webkit-scrollbar {
            width: 6px;
        }

        .control-panel::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .control-panel::-webkit-scrollbar-thumb {
            background: rgba(37, 226, 244, 0.3);
            border-radius: 10px;
        }

        .control-panel::-webkit-scrollbar-thumb:hover {
            background: rgba(37, 226, 244, 0.5);
        }

        /* Card animations */
        #policy-card {
            opacity: 0;
            transform: translateX(-20px);
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
            
            /* üÜï Ìñ•ÏÉÅÎêú Ïä§ÌÉÄÏùº */
            background: linear-gradient(135deg, rgba(16, 33, 34, 0.7) 0%, rgba(20, 45, 50, 0.8) 100%) !important;
            border: 2px solid rgba(37, 226, 244, 0.3) !important;
            box-shadow: 0 8px 32px rgba(37, 226, 244, 0.15), 
                        inset 0 0 20px rgba(37, 226, 244, 0.05);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }

        #policy-card[style*="display: block"],
        #policy-card.show {
            opacity: 1 !important;
            transform: translateX(0) !important;
            box-shadow: 0 8px 32px rgba(37, 226, 244, 0.3), 
                        inset 0 0 20px rgba(37, 226, 244, 0.1) !important;
        }
        
        /* üÜï Policy Ìå®ÎÑê Ìó§Îçî Í∞ïÏ°∞ */
        #policy-card .flex.items-start.justify-between {
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(37, 226, 244, 0.2);
        }
        
        #policy-card h3 {
            background: linear-gradient(135deg, #25e2f4, #0ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            text-shadow: 0 0 20px rgba(37, 226, 244, 0.3);
        }
        
        /* üÜï Ï†ïÏ±Ö Ïù¥Î¶Ñ Í∞ïÏ°∞ */
        #policy-name {
            font-size: 1.25rem;
            background: linear-gradient(90deg, #00ff88, #00dd66);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 900;
            letter-spacing: 0.5px;
        }
        
        /* üÜï Ï†ïÏ±Ö ÏÑ§Î™Ö Ïä§ÌÉÄÏùº */
        #policy-desc {
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.85);
            font-size: 0.95rem;
        }
        
        /* üÜï AQI ÏÉÅÌÉú Î∞ïÏä§ Í∞úÏÑ† */
        #policy-card .grid.grid-cols-2 > div {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.1) 0%, rgba(37, 226, 244, 0.1) 100%);
            border: 1.5px solid rgba(37, 226, 244, 0.3);
            box-shadow: 0 4px 12px rgba(37, 226, 244, 0.1);
            transition: all 0.3s ease;
        }
        
        #policy-card .grid.grid-cols-2 > div:hover {
            border-color: rgba(37, 226, 244, 0.6);
            box-shadow: 0 8px 16px rgba(37, 226, 244, 0.2);
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15) 0%, rgba(37, 226, 244, 0.15) 100%);
        }
        
        #policy-aqi, #policy-pm25 {
            font-weight: 900;
            font-size: 1.75rem;
            background: linear-gradient(90deg, #00ff88, #25e2f4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* üÜï Ï†ïÏ±Ö ÏÑπÏÖò Î∞ïÏä§ */
        #policy-card .bg-black\/20.rounded-lg.p-4 {
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.3) 0%, rgba(0, 0, 0, 0.2) 100%) !important;
            border: 1.5px solid rgba(37, 226, 244, 0.2) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        #policy-card .bg-black\/20.rounded-lg.p-4:hover {
            border-color: rgba(37, 226, 244, 0.4) !important;
            box-shadow: 0 8px 16px rgba(37, 226, 244, 0.15);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.25) 100%) !important;
        }
        
        /* üÜï ÏïÑÏù¥ÏΩò Í∞ïÏ°∞ */
        #policy-card .material-symbols-outlined {
            filter: drop-shadow(0 0 4px rgba(37, 226, 244, 0.5));
            transition: all 0.3s ease;
        }
        
        #policy-card .bg-black\/20.rounded-lg.p-4:hover .material-symbols-outlined {
            filter: drop-shadow(0 0 8px rgba(37, 226, 244, 0.8)) brightness(1.2);
            transform: scale(1.1);
        }

        /* Tablet and below */
        @media (max-width: 1024px) {
            #policy-card {
                max-width: 360px !important;
            }

            .control-panel {
                max-width: 180px !important;
            }
        }

        /* Mobile landscape and below */
        @media (max-width: 768px) {
            .control-panel {
                max-width: calc(100% - 2rem) !important;
                width: calc(100% - 2rem) !important;
                top: 4.5rem !important;
                left: 1rem !important;
                right: 1rem !important;
                max-height: calc(100vh - 5.5rem) !important;
            }

            #policy-card {
                max-width: calc(100% - 2rem) !important;
                width: calc(100% - 2rem) !important;
                top: 4.5rem !important;
                left: 1rem !important;
                max-height: calc(50vh - 3rem) !important;
                bottom: auto !important;
            }

            /* Stack cards vertically on mobile */
            #policy-card[style*="display: block"] ~ aside.control-panel {
                top: calc(50vh + 1.5rem) !important;
                max-height: calc(50vh - 7rem) !important;
            }
        }

        /* Small mobile */
        @media (max-width: 480px) {
            #policy-card,
            .control-panel {
                padding: 0.75rem !important;
                gap: 0.5rem !important;
            }

            #policy-card h3,
            .control-panel h1 {
                font-size: 0.875rem !important;
            }

            #policy-card .text-xl,
            .control-panel .text-lg {
                font-size: 1rem !important;
            }

            /* Make touch targets larger */
            button {
                min-height: 44px;
                min-width: 44px;
            }
        }

        /* Transparent navbar for globe page */
        .navbar-transparent {
            background: transparent !important;
            backdrop-filter: none;
            -webkit-backdrop-filter: none;
            border-bottom: none;
            z-index: 1000 !important;
        }

        /* Transparent navbar menu for mobile */
        @media (max-width: 768px) {
            .navbar-transparent .navbar-menu {
                background: rgba(16, 33, 34, 0.95) !important;
                backdrop-filter: saturate(180%) blur(20px);
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
        }

        /* Mobile Policy Explorer Toggle */
        @media (max-width: 768px) {
            .control-panel {
                transform: translateX(100%);
                transition: transform 0.3s ease;
            }

            .control-panel.active {
                transform: translateX(0);
            }
        }

        /* Floating Toggle Button */
        #policy-explorer-toggle {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: rgba(37, 226, 244, 0.9);
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 40;
            transition: all 0.3s ease;
        }

        #policy-explorer-toggle:hover {
            background: rgba(37, 226, 244, 1);
            transform: scale(1.1);
        }

        #policy-explorer-toggle .material-symbols-outlined {
            font-size: 28px;
            color: white;
        }

        /* üÜï Policy Markers on Globe */
        .policy-marker {
            position: absolute;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
            transform: translate(-50%, -50%);
            font-size: 16px;
            filter: drop-shadow(0 0 4px rgba(37, 226, 244, 0.6));
        }

        .policy-marker:hover {
            transform: translate(-50%, -50%) scale(1.4);
            filter: drop-shadow(0 0 12px rgba(37, 226, 244, 1)) brightness(1.3);
            z-index: 10;
        }

        /* Pulse animation for policy markers */
        @keyframes policyPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(37, 226, 244, 0.7);
            }
            50% {
                box-shadow: 0 0 0 8px rgba(37, 226, 244, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(37, 226, 244, 0);
            }
        }

        .policy-marker.active {
            animation: policyPulse 2s infinite;
        }

        /* Policy info tooltip */
        .policy-tooltip {
            position: absolute;
            background: rgba(16, 33, 34, 0.95);
            border: 1px solid rgba(37, 226, 244, 0.5);
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            color: white;
            white-space: nowrap;
            pointer-events: none;
            z-index: 100;
            backdrop-filter: blur(10px);
            transform: translate(-50%, -100%);
            margin-top: -8px;
            opacity: 0;
            transition: opacity 0.2s ease;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .policy-marker:hover .policy-tooltip {
            opacity: 1;
        }

        @media (max-width: 768px) {
            #policy-explorer-toggle {
                display: flex;
            }
        }
    </style>


</head>

<body class="bg-background-light dark:bg-background-dark">
    <!-- Dark Mode Toggle Button -->
    <div class="theme-toggle-container">
        <div class="toggle-cont">
            <input class="toggle-input" id="theme-toggle" name="toggle" type="checkbox" />
            <label class="toggle-label" for="theme-toggle">
                <div class="cont-icon">
                    <span style="--sparkle-width: 2; --sparkle-deg: 25; --sparkle-duration: 11" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 100; --sparkle-duration: 18" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 280; --sparkle-duration: 5" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 200; --sparkle-duration: 3" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 30; --sparkle-duration: 20" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 300; --sparkle-duration: 9" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 250; --sparkle-duration: 4" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 210; --sparkle-duration: 8" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 100; --sparkle-duration: 9" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 15; --sparkle-duration: 13" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 75; --sparkle-duration: 18" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 65; --sparkle-duration: 6" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 50; --sparkle-duration: 7" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 320; --sparkle-duration: 5" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 220; --sparkle-duration: 5" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 215; --sparkle-duration: 2" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 135; --sparkle-duration: 9" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 45; --sparkle-duration: 4" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 78; --sparkle-duration: 16" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 89; --sparkle-duration: 19" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 65; --sparkle-duration: 14" class="sparkle"></span>
                    <span style="--sparkle-width: 2; --sparkle-deg: 97; --sparkle-duration: 1" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 174; --sparkle-duration: 10" class="sparkle"></span>
                    <span style="--sparkle-width: 1; --sparkle-deg: 236; --sparkle-duration: 5" class="sparkle"></span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30" class="icon">
                        <path d="M0.96233 28.61C1.36043 29.0081 1.96007 29.1255 2.47555 28.8971L10.4256 25.3552C13.2236 24.11 16.4254 24.1425 19.2107 25.4401L27.4152 29.2747C27.476 29.3044 27.5418 29.3023 27.6047 29.32C27.6563 29.3348 27.7079 29.3497 27.761 29.3574C27.843 29.3687 27.9194 29.3758 28 29.3688C28.1273 29.3617 28.2531 29.3405 28.3726 29.2945C28.4447 29.262 28.5162 29.2287 28.5749 29.1842C28.6399 29.1446 28.6993 29.0994 28.7509 29.0477L28.9008 28.8582C28.9468 28.7995 28.9793 28.7274 29.0112 28.656C29.0599 28.5322 29.0811 28.4036 29.0882 28.2734C29.0939 28.1957 29.0868 28.1207 29.0769 28.0415C29.0705 27.9955 29.0585 27.9524 29.0472 27.9072C29.0295 27.8343 29.0302 27.7601 28.9984 27.6901L25.1638 19.4855C23.8592 16.7073 23.8273 13.5048 25.0726 10.7068L28.6145 2.75679C28.8429 2.24131 28.7318 1.63531 28.3337 1.2372C27.9165 0.820011 27.271 0.721743 26.7491 0.9961L19.8357 4.59596C16.8418 6.15442 13.2879 6.18696 10.2615 4.70062L1.80308 0.520214C1.7055 0.474959 1.60722 0.441742 1.50964 0.421943C1.44459 0.409215 1.37882 0.395769 1.3074 0.402133C1.14406 0.395769 0.981436 0.428275 0.818095 0.499692C0.77284 0.519491 0.719805 0.545671 0.67455 0.578198C0.596061 0.617088 0.524653 0.675786 0.4596 0.74084C0.394546 0.805894 0.335843 0.877306 0.296245 0.956502C0.263718 1.00176 0.237561 1.05477 0.217762 1.10003C0.152708 1.24286 0.126545 1.40058 0.120181 1.54978C0.120181 1.61483 0.126527 1.6735 0.132891 1.73219C0.15269 1.85664 0.178881 1.97332 0.237571 2.08434L4.41798 10.5427C5.91139 13.5621 5.8725 17.1238 4.3204 20.1099L0.720514 27.0233C0.440499 27.5536 0.545137 28.1928 0.96233 28.61Z" />
                    </svg>
                </div>
            </label>
        </div>
    </div>

    <!-- Transparent Navigation Bar -->
    <nav class="navbar navbar-transparent">
        <div class="navbar-container">
            <a href="index.html" class="navbar-logo">AirLens</a>
            <button class="navbar-toggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="navbar-menu">
                <li><a href="index.html" class="navbar-link" data-i18n="nav.today">Today</a></li>
                <li><a href="globe.html" class="navbar-link navbar-link-active" data-i18n="nav.globe">Globe</a></li>
                <li><a href="camera.html" class="navbar-link" data-i18n="nav.camera">Camera AI</a></li>
                <li><a href="policy.html" class="navbar-link" data-i18n="nav.policy">Policy</a></li>
                <li><a href="about.html" class="navbar-link" data-i18n="nav.about">About</a></li>
                <li><a href="settings.html" class="navbar-link">
                    <div class="settings-icon">
                        <div class="loader-icon"></div>
                    </div>
                </a></li>
            </ul>
        </div>
    </nav>

    <div class="relative flex h-screen w-full flex-col overflow-hidden">

        <!-- 3D Globe Background -->
        <div id="globe-container">
            <canvas id="globe-canvas"></canvas>

            <!-- Loading Indicator -->
            <div id="loading-indicator">
                <div class="flex flex-col items-center gap-3">
                    <div class="w-12 h-12 border-3 border-primary/30 border-t-primary rounded-full animate-spin"></div>
                    <div class="w-32 h-1 bg-gray-700 rounded-full overflow-hidden">
                        <div id="loading-progress" class="h-full bg-primary transition-all duration-300" style="width: 10%; box-shadow: 0 0 10px rgba(37, 226, 244, 0.6);"></div>
                    </div>
                    <p class="text-primary text-xs" id="loading-status">Init</p>
                </div>
            </div>
        </div>

        <main class="relative z-20 flex flex-1 pointer-events-none">

            <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                 Left Panel ‚Äî Globe Detail Panel
                 States:
                   [idle]    ‚Üí hint screen (ÎèÑÏãúÎ•º ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî)
                   [station] ‚Üí PM2.5 Ï∏°Ï†ïÏÜå ÌÅ¥Î¶≠ Ïãú
                   [policy]  ‚Üí Ï†ïÏ±Ö ÎßàÏª§ / Íµ≠Í∞Ä ÌÅ¥Î¶≠ Ïãú
                 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
            <aside id="globe-detail-panel"
                   class="pointer-events-auto fixed top-20 bottom-6 left-6
                          flex w-full max-w-[340px] flex-col
                          rounded-xl bg-gray-900/60 backdrop-blur-md
                          border border-white/10 overflow-y-auto
                          control-panel max-h-[calc(100vh-104px)] z-30
                          transition-all duration-300"
                   style="display:none;">

                <!-- ‚îÄ‚îÄ CLOSE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div class="flex items-center justify-between px-4 pt-4 pb-2">
                    <div class="flex items-center gap-2 min-w-0">
                        <span id="gdp-flag" class="text-2xl flex-shrink-0">üåç</span>
                        <div class="min-w-0">
                            <h3 id="gdp-name"  class="text-white font-bold text-sm truncate">‚Äî</h3>
                            <p  id="gdp-region" class="text-white/50 text-xs truncate">Click a marker</p>
                        </div>
                    </div>
                    <button onclick="window.globeClosePanel()"
                            class="flex-shrink-0 text-white/50 hover:text-white transition-colors p-1">
                        <span class="material-symbols-outlined !text-lg">close</span>
                    </button>
                </div>

                <!-- ‚îÄ‚îÄ PM2.5 CARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div class="px-4 pb-2">
                    <div id="gdp-pm-card"
                         class="rounded-xl bg-black/30 border border-white/10 p-4 text-center">
                        <p class="text-xs text-white/60 mb-1 uppercase tracking-widest">PM2.5</p>
                        <div class="flex items-end justify-center gap-1">
                            <span id="gdp-pm-value" class="text-5xl font-black text-primary">--</span>
                            <span class="text-white/50 text-base pb-1">¬µg/m¬≥</span>
                        </div>
                        <p id="gdp-pm-grade" class="text-sm font-bold mt-1 text-white/60">‚Äî</p>
                    </div>
                </div>

                <!-- ‚îÄ‚îÄ POLICY SUMMARY (hidden for station-only clicks) ‚îÄ‚îÄ -->
                <div id="gdp-policy-block" class="px-4 pb-3" style="display:none;">
                    <div class="rounded-xl bg-black/20 border border-white/10 p-3">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="material-symbols-outlined text-primary !text-base">policy</span>
                            <span class="text-white/70 text-xs font-bold uppercase tracking-wider">Main Policy</span>
                        </div>
                        <p id="gdp-policy-title"  class="text-primary text-sm font-bold mb-1 leading-tight">‚Äî</p>
                        <p id="gdp-policy-desc"   class="text-white/70 text-xs leading-relaxed mb-2 line-clamp-3">‚Äî</p>
                        <div class="flex items-center gap-3 text-xs text-white/40">
                            <span>üìÖ <span id="gdp-policy-date">‚Äî</span></span>
                            <span>‚≠ê <span id="gdp-policy-rating">‚Äî</span>/10</span>
                        </div>
                    </div>
                </div>

                <!-- ‚îÄ‚îÄ POLICY IMPACT (hidden when no data) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div id="gdp-impact-block" class="px-4 pb-3" style="display:none;">
                    <div class="rounded-xl bg-gradient-to-br from-green-900/30 to-teal-900/30
                                border border-green-500/20 p-3">
                        <div class="flex items-center gap-2 mb-3">
                            <span class="material-symbols-outlined text-green-400 !text-base">trending_down</span>
                            <span class="text-white/70 text-xs font-bold uppercase tracking-wider">Policy Impact</span>
                        </div>
                        <div class="flex items-center gap-4">
                            <div>
                                <p id="gdp-impact-rate" class="text-3xl font-black text-green-400">‚Äî</p>
                                <p class="text-xs text-white/50">PM2.5 Reduction</p>
                            </div>
                            <div>
                                <p id="gdp-impact-period" class="text-sm text-white font-semibold">‚Äî</p>
                                <p class="text-xs text-white/50">Period</p>
                            </div>
                        </div>
                        <!-- Key measures -->
                        <div id="gdp-impact-tags" class="flex flex-wrap gap-1 mt-3"></div>
                    </div>
                </div>

                <!-- ‚îÄ‚îÄ PM2.5 TREND MINI CHART ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div id="gdp-chart-block" class="px-4 pb-3" style="display:none;">
                    <div class="rounded-xl bg-black/20 border border-white/10 p-3">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="material-symbols-outlined text-primary !text-base">show_chart</span>
                            <span class="text-white/70 text-xs font-bold uppercase tracking-wider">PM2.5 Trend</span>
                        </div>
                        <div class="relative" style="height:90px;">
                            <canvas id="gdp-trend-canvas"></canvas>
                        </div>
                        <p class="text-xs text-white/30 text-center mt-1">Annual average ¬µg/m¬≥</p>
                    </div>
                </div>

                <!-- ‚îÄ‚îÄ TOP POLICIES LIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div id="gdp-policies-list-block" class="px-4 pb-3" style="display:none;">
                    <div class="rounded-xl bg-black/20 border border-white/10 p-3">
                        <div class="flex items-center gap-2 mb-2">
                            <span class="material-symbols-outlined text-primary !text-base">format_list_bulleted</span>
                            <span class="text-white/70 text-xs font-bold uppercase tracking-wider">Other Policies</span>
                        </div>
                        <ul id="gdp-policies-list" class="space-y-1.5"></ul>
                    </div>
                </div>

                <!-- ‚îÄ‚îÄ CTA BUTTONS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
                     "TodayÏóêÏÑú Î≥¥Í∏∞" : index.html?lat=&lon=&city=
                     "Policy Îçî Î≥¥Í∏∞" : policy.html?country=KR
                ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ -->
                <div class="px-4 pt-1 pb-5 mt-auto flex flex-col gap-2">
                    <a id="gdp-today-btn" href="index.html"
                       class="flex items-center justify-center gap-2 w-full
                              rounded-xl bg-primary text-gray-900 font-bold
                              py-2.5 text-sm hover:opacity-90 transition-opacity">
                        <span class="material-symbols-outlined !text-base">wb_sunny</span>
                        <span>View in Today</span>
                    </a>
                    <a id="gdp-policy-btn" href="policy.html"
                       class="flex items-center justify-center gap-2 w-full
                              rounded-xl border border-primary/50 text-primary font-bold
                              py-2.5 text-sm hover:bg-primary/10 transition-colors"
                       style="display:none;">
                        <span class="material-symbols-outlined !text-base">policy</span>
                        <span>See All Policies ‚Üí</span>
                    </a>
                </div>

            </aside>

            <!-- ‚îÄ‚îÄ LEGACY aside#policy-card (kept for JS compat, hidden) ‚îÄ‚îÄ -->
            <aside id="policy-card" style="display:none;" aria-hidden="true">
                <span id="policy-flag"></span>
                <span id="policy-country"></span>
                <span id="policy-region"></span>
                <span id="policy-name"></span>
                <span id="policy-desc"></span>
                <span id="policy-date"></span>
                <span id="policy-aqi"></span>
                <span id="policy-pm25"></span>
                <span id="policy-effectiveness-percent"></span>
                <div id="policy-effectiveness-bar"></div>
                <span id="policy-effectiveness-status"></span>
                <div id="policy-impact-section"></div>
                <span id="impact-before"></span>
                <span id="impact-after"></span>
                <span id="impact-change"></span>
                <span id="impact-significance"></span>
                <div id="policy-timeline-section"></div>
                <canvas id="policy-impact-chart"></canvas>
                <canvas id="policy-timeline-chart"></canvas>
                <div id="policy-news"></div>
                <div id="policy-tabs"></div>
                <div id="policy-content"></div>
                <a id="goto-today-btn" href="index.html"></a>
                <button id="view-more-btn"></button>
            </aside>


            <!-- Right Control Panel -->
            <aside class="pointer-events-auto fixed top-20 bottom-6 right-6 flex w-full max-w-[200px] flex-col gap-1 rounded-xl bg-gray-900/50 p-2 backdrop-blur-md border border-white/10 overflow-y-auto control-panel max-h-[calc(100vh-104px)] z-30">

                <!-- Header -->
                <div class="flex flex-col">
                    <h1 class="text-white text-xs font-semibold leading-tight">Policy Explorer</h1>
                    <p class="text-white/60 text-[10px] font-normal leading-tight">Explore policies worldwide</p>
                </div>

                <!-- Global Statistics -->
                <div class="mt-1 p-1.5 bg-black/20 rounded-lg border border-white/10">
                    <h4 class="text-[10px] font-bold text-white mb-1">Global Statistics</h4>
                    <div class="grid grid-cols-2 gap-1">
                        <div>
                            <p class="text-[10px] text-white/60">Countries</p>
                            <p id="stat-countries" class="text-sm font-bold text-primary">-</p>
                        </div>
                        <div>
                            <p class="text-[10px] text-white/60">Policies</p>
                            <p id="stat-policies" class="text-sm font-bold text-primary">-</p>
                        </div>
                        <div>
                            <p class="text-[10px] text-white/60">Regions</p>
                            <p id="stat-regions" class="text-sm font-bold text-primary">-</p>
                        </div>
                        <div>
                            <p class="text-[10px] text-white/60">Updates</p>
                            <p class="text-sm font-bold text-primary">Live</p>
                        </div>
                    </div>
                </div>

                <!-- Search & Filters -->
                <div class="flex flex-col gap-1 mt-1">
                    <label class="flex flex-col h-7 w-full">
                        <div class="flex w-full flex-1 items-stretch rounded-lg h-full">
                            <div class="text-white/60 flex border-none bg-black/20 items-center justify-center pl-1.5 rounded-l-lg border-r-0">
                                <span class="material-symbols-outlined !text-sm">search</span>
                            </div>
                            <input id="country-search"
                                   class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-lg text-white focus:outline-0 focus:ring-0 border-none bg-black/20 focus:border-none h-full placeholder:text-white/60 px-1.5 rounded-l-none border-l-0 pl-1 text-xs font-normal leading-normal"
                                   placeholder="Search..."
                                   value=""/>
                        </div>
                    </label>

                    <div class="flex gap-1 flex-wrap">
                        <button id="filter-region" class="flex h-6 shrink-0 items-center justify-center gap-x-0.5 rounded-lg bg-black/20 pl-1.5 pr-1 hover:bg-black/40 transition-colors">
                            <p class="text-white text-[10px] font-medium leading-normal">Region</p>
                            <span class="material-symbols-outlined text-white !text-sm">arrow_drop_down</span>
                        </button>
                        <button id="filter-policy" class="flex h-6 shrink-0 items-center justify-center gap-x-0.5 rounded-lg bg-black/20 pl-1.5 pr-1 hover:bg-black/40 transition-colors">
                            <p class="text-white text-[10px] font-medium leading-normal">Type</p>
                            <span class="material-symbols-outlined text-white !text-sm">arrow_drop_down</span>
                        </button>
                    </div>
                </div>

                <div class="my-0.5 border-t border-white/10"></div>

                <!-- Visualization Layers -->
                <div class="flex flex-col gap-0.5">
                    <div class="flex flex-col mb-0">
                        <h1 class="text-white text-xs font-semibold leading-tight">Layers</h1>
                    </div>

                    <!-- Country Borders -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">flag</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Borders</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch checked" id="toggle-borders-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-borders" checked>
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- PM2.5 Overlay -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">location_on</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Monitoring Stations</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch checked" id="toggle-pm25-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-pm25" checked>
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Policy Markers -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">policy</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Policies</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch checked" id="toggle-policies-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-policies" checked>
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Atmospheric Flow -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">air</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Flow</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch" id="toggle-particles-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-particles">
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Satellite AOD Layer (NEW) -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">satellite_alt</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Satellite AOD</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch" id="toggle-satellite-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-satellite">
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Predicted PM Layer (NEW) -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">auto_graph</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">ML Prediction</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch" id="toggle-prediction-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-prediction">
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Data Quality Layer (NEW) -->
                    <label class="flex items-center gap-1.5 bg-transparent px-1.5 min-h-[32px] py-0.5 justify-between cursor-pointer hover:bg-white/5 rounded-lg transition-colors">
                        <div class="flex items-center gap-1.5">
                            <div class="text-white flex items-center justify-center rounded-lg bg-black/20 shrink-0 size-6">
                                <span class="material-symbols-outlined !text-sm">verified</span>
                            </div>
                            <div class="flex flex-col justify-center">
                                <p class="text-white text-[10px] font-medium leading-tight line-clamp-1">Data Quality</p>
                            </div>
                        </div>
                        <div class="shrink-0">
                            <div class="toggle-switch" id="toggle-quality-switch" style="width: 32px; height: 18px;">
                                <input type="checkbox" id="toggle-quality">
                                <div class="toggle-knob" style="width: 14px; height: 14px;"></div>
                            </div>
                        </div>
                    </label>

                    <!-- Layer Legend (ÎèôÏ†ÅÏúºÎ°ú Ï±ÑÏõåÏßê) -->
                    <div id="layer-legend"
                         class="mt-1 p-2 bg-black/30 rounded-lg border border-white/10 text-[9px]"
                         style="display:none;">
                    </div>
                </div>

                <div class="my-0.5 border-t border-white/10"></div>

                <!-- Quick Focus Buttons (NEW) -->
                <div class="flex flex-col gap-0.5">
                    <div class="flex flex-col mb-0.5">
                        <h1 class="text-white text-xs font-semibold leading-tight">Quick Focus</h1>
                        <p class="text-white/40 text-[9px]">Ïπ¥Î©îÎùº ÏûêÎèô Ïù¥Îèô</p>
                    </div>

                    <button id="qf-top-polluted"
                            class="flex items-center gap-1.5 w-full px-2 py-1.5 rounded-lg bg-red-900/30 hover:bg-red-900/50 border border-red-500/20 hover:border-red-500/40 transition-all text-left">
                        <span class="material-symbols-outlined text-red-400 !text-sm">factory</span>
                        <div>
                            <p class="text-white text-[10px] font-semibold leading-tight">Top Polluted</p>
                            <p class="text-white/40 text-[9px]">ÏµúÏïÖ Ïò§Ïóº ÎèÑÏãú</p>
                        </div>
                    </button>

                    <button id="qf-most-improved"
                            class="flex items-center gap-1.5 w-full px-2 py-1.5 rounded-lg bg-green-900/30 hover:bg-green-900/50 border border-green-500/20 hover:border-green-500/40 transition-all text-left">
                        <span class="material-symbols-outlined text-green-400 !text-sm">trending_down</span>
                        <div>
                            <p class="text-white text-[10px] font-semibold leading-tight">Most Improved</p>
                            <p class="text-white/40 text-[9px]">Í∞ÄÏû• Í∞úÏÑ†Îêú Íµ≠Í∞Ä</p>
                        </div>
                    </button>

                    <button id="qf-policy-highlight"
                            class="flex items-center gap-1.5 w-full px-2 py-1.5 rounded-lg bg-primary/10 hover:bg-primary/20 border border-primary/20 hover:border-primary/40 transition-all text-left">
                        <span class="material-symbols-outlined text-primary !text-sm">policy</span>
                        <div>
                            <p class="text-white text-[10px] font-semibold leading-tight">Policy Highlight</p>
                            <p class="text-white/40 text-[9px]">ÏµúÏã† Ï†ïÏ±Ö Íµ≠Í∞Ä</p>
                        </div>
                    </button>

                    <button id="qf-my-location"
                            class="flex items-center gap-1.5 w-full px-2 py-1.5 rounded-lg bg-purple-900/30 hover:bg-purple-900/50 border border-purple-500/20 hover:border-purple-500/40 transition-all text-left">
                        <span class="material-symbols-outlined text-purple-400 !text-sm">my_location</span>
                        <div>
                            <p class="text-white text-[10px] font-semibold leading-tight">My Location</p>
                            <p class="text-white/40 text-[9px]">ÎÇ¥ ÏúÑÏπòÎ°ú Ïù¥Îèô</p>
                        </div>
                    </button>
                </div>

                <div class="my-0.5 border-t border-white/10"></div>

                <!-- Globe Controls -->
                <div class="flex flex-col gap-0.5">
                    <div class="flex flex-col mb-0">
                        <h1 class="text-white text-xs font-semibold leading-tight">Controls</h1>
                    </div>

                    <!-- Zoom Controls -->
                    <div class="flex gap-1">
                        <button id="reset-view" class="flex flex-1 items-center justify-center gap-0.5 rounded-lg h-7 bg-black/20 hover:bg-black/40 transition-colors">
                            <span class="material-symbols-outlined text-white !text-sm">refresh</span>
                            <span class="text-white text-[10px] font-medium">Reset</span>
                        </button>
                        <button id="zoom-in" class="flex size-7 items-center justify-center rounded-lg bg-black/20 hover:bg-black/40 transition-colors">
                            <span class="material-symbols-outlined text-white !text-sm">add</span>
                        </button>
                        <button id="zoom-out" class="flex size-7 items-center justify-center rounded-lg bg-black/20 hover:bg-black/40 transition-colors">
                            <span class="material-symbols-outlined text-white !text-sm">remove</span>
                        </button>
                    </div>

                    <!-- Real-time Data Refresh -->
                    <div class="mt-1">
                        <button id="refresh-data" class="w-full flex items-center justify-center gap-1 rounded-lg h-8 bg-primary/20 hover:bg-primary/30 transition-colors">
                            <span class="material-symbols-outlined text-primary !text-base" id="refresh-icon">sync</span>
                            <span class="text-primary text-xs font-medium">Update Air Quality</span>
                        </button>
                        <div id="last-update" class="text-center text-white/40 text-[10px] mt-1">
                            Click to update
                        </div>
                    </div>
                </div>

            </aside>

            <!-- Floating Policy Explorer Toggle Button (Mobile Only) -->
            <button id="policy-explorer-toggle" onclick="togglePolicyExplorer()" aria-label="Toggle Policy Explorer">
                <span class="material-symbols-outlined">layers</span>
            </button>

        </main>

        <!-- Help Tooltip ‚Äî Ìå®ÎÑêÏù¥ Ïó¥Î¶¨Î©¥ ÏûêÎèôÏúºÎ°ú Ïà®ÍπÄ -->
        <div id="globe-hint"
             class="absolute bottom-4 left-1/2 transform -translate-x-1/2 z-30 pointer-events-none
                    transition-opacity duration-500">
            <div class="bg-gray-900/90 backdrop-blur-md border border-white/10 rounded-lg px-4 py-2.5
                        text-sm text-white/80 flex items-center gap-2">
                <span class="material-symbols-outlined !text-base text-primary">touch_app</span>
                <span>
                    ÎßàÏª§ ÌÅ¥Î¶≠ ‚Üí
                    <span class="text-primary font-semibold">PM2.5</span> ÌôïÏù∏ +
                    <span class="text-green-400 font-semibold">Ï†ïÏ±Ö</span> ÏÉÅÏÑ∏ Î≥¥Í∏∞
                </span>
            </div>
        </div>

    </div>

    <!-- JavaScript -->
    <script>
        // ‚îÄ‚îÄ Ï†ÑÏó≠ ÏÉÅÌÉú ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        window.currentPolicy = null;

        // ‚îÄ‚îÄ Ìå®ÎÑê Îã´Í∏∞ (Ï†ÑÏó≠ ÎÖ∏Ï∂ú ‚Äî globe.js ÏóêÏÑú Ìò∏Ï∂ú) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        window.globeClosePanel = function() {
            const panel = document.getElementById('globe-detail-panel');
            if (panel) panel.style.display = 'none';
            // legacy compat
            const legacy = document.getElementById('policy-card');
            if (legacy) { legacy.classList.remove('show'); legacy.style.display = 'none'; }
            if (window.policyMarkersManager) window.policyMarkersManager.deselectMarker();
            window.currentPolicy = null;
            // hint Î≥µÏõê
            const hint = document.getElementById('globe-hint');
            if (hint) hint.style.opacity = '1';
        };

        // ‚îÄ‚îÄ Í∏∞Ï°¥ ÏΩîÎìú Ìò∏Ìôò (ÏùºÎ∂Ä globe.js ÏΩîÎìúÍ∞Ä Ïù¥ Ìï®ÏàòÎ•º ÏîÄ) ‚îÄ‚îÄ‚îÄ
        window.closePolicyCard = window.globeClosePanel;

        // ‚îÄ‚îÄ Í∏ÄÎ°úÎ∏å ÏÉÅÏÑ∏ Ìå®ÎÑê ÏóÖÎç∞Ïù¥Ìä∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        // globe.js Ïùò showCountryPolicy / showPolicyInfoPanel /
        // showStationInfoPanel ÏóêÏÑú Î™®Îëê Ïù¥ Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÎèÑÎ°ù ÍµêÏ≤¥Îê®.
        //
        // data = {
        //   type       : 'country' | 'station'
        //   name       : string            (ÎèÑÏãú/Íµ≠Í∞ÄÎ™Ö)
        //   flag       : string emoji
        //   region     : string
        //   lat        : number
        //   lon        : number
        //   pm25       : number
        //   countryCode: string (ISO)      ‚Äî country type only
        //   policy     : { title, description, date, rating }
        //   impact     : { rate, period, measures[] }
        //   trends     : [{ year, value, note }]
        //   otherPolicies: [{ year, title }]
        // }
        window.globeUpdatePanel = function(data) {
            const panel = document.getElementById('globe-detail-panel');
            if (!panel) return;

            // ‚îÄ‚îÄ Ìó§Îçî ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            document.getElementById('gdp-flag').textContent   = data.flag   || 'üåç';
            document.getElementById('gdp-name').textContent   = data.name   || '‚Äî';
            document.getElementById('gdp-region').textContent = data.region || '';

            // ‚îÄ‚îÄ PM2.5 Ïπ¥Îìú ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const pm = data.pm25 || 0;
            document.getElementById('gdp-pm-value').textContent = pm.toFixed(1);
            const gradeInfo = _pmGrade(pm);
            document.getElementById('gdp-pm-value').style.color = gradeInfo.color;
            document.getElementById('gdp-pm-grade').textContent  = gradeInfo.label;
            document.getElementById('gdp-pm-grade').style.color  = gradeInfo.color;

            // ‚îÄ‚îÄ Ï†ïÏ±Ö ÏöîÏïΩ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const pb = document.getElementById('gdp-policy-block');
            if (data.policy) {
                document.getElementById('gdp-policy-title').textContent  = data.policy.title || '‚Äî';
                document.getElementById('gdp-policy-desc').textContent   = data.policy.description || '‚Äî';
                document.getElementById('gdp-policy-date').textContent   = data.policy.date || '‚Äî';
                document.getElementById('gdp-policy-rating').textContent = data.policy.rating || '‚Äî';
                pb.style.display = 'block';
            } else { pb.style.display = 'none'; }

            // ‚îÄ‚îÄ Impact ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const ib = document.getElementById('gdp-impact-block');
            if (data.impact) {
                document.getElementById('gdp-impact-rate').textContent   = data.impact.rate || '‚Äî';
                document.getElementById('gdp-impact-period').textContent = data.impact.period || '‚Äî';
                const tagsEl = document.getElementById('gdp-impact-tags');
                tagsEl.innerHTML = (data.impact.measures || []).slice(0,4).map(m =>
                    `<span class="text-xs bg-white/10 px-2 py-0.5 rounded-full text-white/60">${m}</span>`
                ).join('');
                ib.style.display = 'block';
            } else { ib.style.display = 'none'; }

            // ‚îÄ‚îÄ Trend chart ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const cb = document.getElementById('gdp-chart-block');
            if (data.trends && data.trends.length) {
                cb.style.display = 'block';
                _renderTrendChart(data.trends, data.policy?.date);
            } else { cb.style.display = 'none'; }

            // ‚îÄ‚îÄ Other policies list ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            const lb = document.getElementById('gdp-policies-list-block');
            if (data.otherPolicies && data.otherPolicies.length) {
                lb.style.display = 'block';
                document.getElementById('gdp-policies-list').innerHTML =
                    data.otherPolicies.slice(0,4).map(p =>
                        `<li class="text-xs text-white/60 flex items-start gap-1">
                            <span class="text-primary mt-0.5">¬∑</span>
                            <span>${p.year ? p.year + ' ¬∑ ' : ''}${p.title}</span>
                        </li>`
                    ).join('');
            } else { lb.style.display = 'none'; }

            // ‚îÄ‚îÄ CTA Î≤ÑÌäº ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            // Today Î≤ÑÌäº: Ï¢åÌëú ÏûàÏúºÎ©¥ ÏÑ§Ï†ï
            const todayBtn = document.getElementById('gdp-today-btn');
            if (data.lat != null && data.lon != null) {
                const city = encodeURIComponent(data.name || '');
                todayBtn.href = `index.html?lat=${data.lat}&lon=${data.lon}&city=${city}`;
            } else {
                todayBtn.href = 'index.html';
            }

            // Policy Î≤ÑÌäº: countryCode ÏûàÏùÑ ÎïåÎßå ÎÖ∏Ï∂ú
            const policyBtn = document.getElementById('gdp-policy-btn');
            if (data.countryCode) {
                policyBtn.href = `policy.html?country=${data.countryCode}`;
                policyBtn.style.display = 'flex';
            } else {
                policyBtn.style.display = 'none';
            }

            // ‚îÄ‚îÄ Ìå®ÎÑê ÌëúÏãú ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
            panel.style.display = 'flex';
            panel.style.flexDirection = 'column';

            // hint Ïà®Í∏∞Í∏∞
            const hint = document.getElementById('globe-hint');
            if (hint) hint.style.opacity = '0';
        };

        // ‚îÄ‚îÄ PM2.5 Îì±Í∏â Ìó¨Ìçº (centralized config ÏÇ¨Ïö©) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        function _pmGrade(v) {
            if (window.AirLensConfig?.getPM25Grade) {
                const g = window.AirLensConfig.getPM25Grade(v);
                return { label: `${g.emoji} ${g.label}`, color: g.darkColor || g.color };
            }
            // Fallback
            if (v <= 12)   return { label: 'üòä Good',              color: '#22c55e' };
            if (v <= 35.5) return { label: 'üôÇ Moderate',          color: '#eab308' };
            if (v <= 55.5) return { label: 'üò∑ Unhealthy',         color: '#f97316' };
            return                { label: '‚ö†Ô∏è Very Unhealthy',    color: '#ef4444' };
        }

        // ‚îÄ‚îÄ ÎØ∏Îãà Ìä∏Î†åÎìú Ï∞®Ìä∏ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        let _trendChartInstance = null;
        function _renderTrendChart(trends, policyDate) {
            const canvas = document.getElementById('gdp-trend-canvas');
            if (!canvas || typeof Chart === 'undefined') return;
            if (_trendChartInstance) { _trendChartInstance.destroy(); _trendChartInstance = null; }

            const policyYear = policyDate ? parseInt(policyDate) : null;
            const labels = trends.map(t => t.year);
            const values = trends.map(t => t.value);

            _trendChartInstance = new Chart(canvas.getContext('2d'), {
                type: 'line',
                data: {
                    labels,
                    datasets: [{
                        data: values,
                        borderColor: '#25e2f4',
                        backgroundColor: 'rgba(37,226,244,.12)',
                        fill: true, tension: 0.35, borderWidth: 2,
                        pointRadius: values.map((_, i) => labels[i] === policyYear ? 5 : 2),
                        pointBackgroundColor: values.map((_, i) =>
                            labels[i] === policyYear ? '#facc15' : '#25e2f4')
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    animation: { duration: 500 },
                    plugins: { legend: { display: false },
                        tooltip: { backgroundColor:'rgba(0,0,0,.8)',
                            callbacks: { label: ctx => `${ctx.parsed.y} ¬µg/m¬≥` } }
                    },
                    scales: {
                        x: { ticks: { color:'rgba(255,255,255,.4)', font:{size:8}, maxTicksLimit:6 },
                             grid: { color:'rgba(255,255,255,.05)' } },
                        y: { ticks: { color:'rgba(255,255,255,.4)', font:{size:8} },
                             grid: { color:'rgba(255,255,255,.05)' }, beginAtZero: false }
                    }
                }
            });
        }

        // ‚îÄ‚îÄ Í∏∞Ï°¥ mobile panel ÌÜ†Í∏Ä ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        function togglePolicyExplorer() {
            const panel = document.querySelector('.control-panel');
            const button = document.getElementById('policy-explorer-toggle');
            if (!panel) return;
            panel.classList.toggle('active');
            const icon = button?.querySelector('.material-symbols-outlined');
            if (icon) icon.textContent = panel.classList.contains('active') ? 'close' : 'layers';
        }

        document.addEventListener('click', function(event) {
            const panel = document.querySelector('.control-panel');
            const button = document.getElementById('policy-explorer-toggle');
            if (window.innerWidth <= 768 && panel && button) {
                if (!panel.contains(event.target) && !button.contains(event.target)
                    && panel.classList.contains('active')) {
                    togglePolicyExplorer();
                }
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            const c = document.getElementById('policy-markers-container');
            if (c) c.remove();
        });
    </script>

    <!-- Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎìú (ÏïàÏ†ÑÌïú ÏàúÏÑú) -->
    <script src="js/utils/config.js"></script>
    <script src="js/i18n.js"></script>
    <script src="js/theme-toggle.js" defer></script>
    <script src="js/main.js" defer></script>
    <script src="js/message-utils.js" defer></script>
    <script src="js/air-quality-api.js" defer></script>
    <script src="js/services/dataService.js"></script>
    
    <!-- ES6 Î™®Îìà (ÏóêÎü¨ Ï≤òÎ¶¨ Ìè¨Ìï®) -->
    <script type="module">
        import('./js/globe.js').catch(error => {
            console.error('‚ùå Failed to load globe.js module:', error);
            const loader = document.getElementById('loading-indicator');
            if (loader) {
                loader.innerHTML = `
                    <div class="flex flex-col items-center gap-4">
                        <span class="material-symbols-outlined text-red-500 !text-6xl">error</span>
                        <p class="text-white text-lg font-medium">Failed to load</p>
                        <p class="text-white/60 text-sm">${error.message}</p>
                        <button onclick="location.reload()" class="mt-4 px-4 py-2 bg-primary text-white rounded">
                            Reload
                        </button>
                    </div>
                `;
            }
        });
    </script>

    <!-- ‚≠ê Data Integration: OpenAQ + Earthdata AOD -->
    <script type="module" src="js/globe-data-integration.js"></script>
</body>
</html>
